{% extends "console/react_shell_base.html" %}
{% load vite_tags %}

{% block page_title %}Chat - {{ agent.name|default:'Agent' }} Â· Gobii{% endblock %}

{% block react_shell_content %}
<div class="{% if immersive %}min-h-screen{% else %}py-12 px-6{% endif %}">
  <div id="gobii-frontend-root"
       class="{% if immersive %}w-full{% else %}mx-auto max-w-5xl{% endif %}"
       data-app="agent-chat"
       data-immersive="{% if immersive %}true{% else %}false{% endif %}"
       data-agent-id="{{ agent.id }}"
       data-agent-name="{{ agent.name|default:'' }}"
       data-agent-color="{{ agent.get_display_color|default_if_none:'' }}"
       data-agent-avatar-url="{{ agent.get_avatar_url|default_if_none:'' }}"
       data-user-plan="{{ user_plan|default:'' }}"
       data-is-proprietary-mode="{% if settings.GOBII_PROPRIETARY_MODE %}true{% else %}false{% endif %}">
       data-viewer-user-id="{{ request.user.id }}"
       data-viewer-email="{{ request.user.email|default_if_none:'' }}"
       data-collaborator-invite-url="{% url 'agent_detail' pk=agent.id %}"
       data-can-manage-collaborators="{% if can_manage_collaborators %}true{% else %}false{% endif %}">
  </div>
</div>
{% endblock %}

{% block extra_js %}
  {% vite_asset 'src/main.tsx' %}
{% endblock %}
